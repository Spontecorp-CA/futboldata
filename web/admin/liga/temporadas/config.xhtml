<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">


    <ui:composition template="./../../../WEB-INF/templates/adminTemplate.xhtml">

        <ui:define name="title">
            Configurador de Calendario
        </ui:define>

        <ui:define name="content" >
            <h:form id="menuPrincipal">
                <p:toolbar >
                    <p:toolbarGroup>
                        <h3>
                            <h:outputLabel value="Liga (Competicion):#{configBean.liga.nombre}"/> 
                        </h3>     
                    </p:toolbarGroup>
                    <p:toolbarGroup align="right">
                        <p:commandButton value="Ver Ligas" action="#{ligaBean.gotoLiga}" />
                    </p:toolbarGroup>
                </p:toolbar>
                <p:menubar id="menu">

                    <p:menuitem value="Temporadas" 
                                actionListener="#{configBean.activateTemporadaList}" 
                                update=":ListForm ,:menuPrincipal"
                                disabled="#{configBean.temporada.nombre}"
                                immediate="true"/>

                    <p:menuitem value="Fases"
                                actionListener="#{configBean.activateFaseList}"
                                disabled="#{empty configBean.temporada.nombre}"
                                update=":ListForm" 
                                immediate="true"/>

                    <p:menuitem value="Grupos" 
                                disabled="#{configBean.faseTipo != 0}"
                                actionListener="#{configBean.activateGrupoList}"
                                update=":ListForm"/>

                    <p:menuitem value="Jornadas" disabled="#{empty configBean.grupo.nombre}"/>

                    <p:menuitem value="Llaves" disabled="#{configBean.faseTipo != 1}"/>
                </p:menubar>
            </h:form>

            <h:form id="ListForm" >
                <h:panelGroup id="temporadaPanel" rendered="#{configBean.temporadaActiva}">
                    <ui:include src="./temporada/list.xhtml" />               
                </h:panelGroup>

                <h:panelGroup id="fasePanel" rendered="#{configBean.faseActiva}">
                    <ui:include src="./fase/list.xhtml" />
                </h:panelGroup>
                <h:panelGroup id="grupoPanel" rendered="#{configBean.grupoActiva}">
                    <ui:include src="./grupo/list.xhtml" />
                </h:panelGroup>


            </h:form>


            <!--                <p:tabView id="calendario" 
                                       dynamic="true" 
                                       effect="fade" 
                                       effectDuration="fast" 
                                       activeIndex="#{temporadaBean.index}">                       
                                <p:tab title="Temporada">
                                    <ui:include src="./temporada/list.xhtml"/>
                                </p:tab>
                                <p:tab  id="fases" title="Fases" disabled="#{empty  temporadaBean.selected.nombre}" >
                                    <ui:include src="./fase/list.xhtml"/>
                                </p:tab>
                                <p:tab title="Grupos" 
                                       disabled="#{empty  faseBean.selected.nombre or (faseBean.selected.tipoFase != 0 )}">
                                    <ui:include src="./grupo/list.xhtml"/>
                                </p:tab>
                                <p:tab title="Llaves" 
                                       disabled="#{empty  faseBean.selected.nombre or (faseBean.selected.tipoFase != 1 )}">
            
                                </p:tab>
                            </p:tabView>-->
        </ui:define>
    </ui:composition>

</html>
